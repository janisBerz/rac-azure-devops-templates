parameters:
  azureSubscriptionName: ''
  functionName: ''
  webAppName: ''


steps:
  - task: AzureRmWebAppDeployment@4
    condition: and(succeeded(), ne(variables['functionName'], ''))
    displayName: 'Deploy Function App'
    inputs:
      appType: functionApp
      ConnectedServiceName: '${{ parameters.azureSubscriptionName }}'
      WebAppName: '${{ parameters.functionName }}'
      package: '$(Pipeline.Workspace)/app/*.zip'

  - task: AzureRmWebAppDeployment@4
    condition: and(succeeded(), ne(variables['webAppName'], ''))
    displayName: 'Deploy Web App'
    inputs:
      appType: webApp
      ConnectedServiceName: '${{ parameters.azureSubscriptionName }}'
      WebAppName: '${{ parameters.WebAppName }}'
      package: '$(Pipeline.Workspace)/app/*.zip'
